import{W as e,s as t,A as n,P as a,S as o,R as s,U as i,a as r,O as l,G as c,D as d,b as u,V as m}from"./vendor.a08f8ccd.js";let D,h;const g=[];function p(){!function(){const e=D.clientWidth,t=D.clientHeight;D.width===e&&D.height===t||h.setSize(e,t,!1)}(),D.style.transform=`translateY(${window.scrollY}px)`,h.setClearColor(3223169),h.setScissorTest(!1),h.clear(),h.setClearColor(3223169),h.setScissorTest(!0),g.forEach((function(e){e.userData.globalPlanes[0].constant=e.userData.globalPlanes[0].constant+.1*(e.userData.sliceDestination-e.userData.globalPlanes[0].constant);const t=e.userData.element.getBoundingClientRect();if(t.bottom<0||t.top>h.domElement.clientHeight||t.right<0||t.left>h.domElement.clientWidth)return;const n=t.right-t.left,a=t.bottom-t.top,o=t.left,s=h.domElement.clientHeight-t.bottom;h.setViewport(o,s,n,a),h.setScissor(o,s,n,a);const i=e.userData.camera;i.aspect=n/a,i.updateProjectionMatrix(),h.clippingPlanes=e.userData.globalPlanes,h.render(e,i)}))}!function(){D=document.getElementById("c"),h=new e({canvas:D,antialias:!0}),h.setClearColor(16711680,0),h.setPixelRatio(window.devicePixelRatio),h.outputEncoding=t,h.autoClear=!0,h.toneMapping=n,h.toneMappingExposure=.3;const w=new a(h);w.compileEquirectangularShader();["house","workshop","land"].forEach((function(e){const t=new o;(new s).setDataType(i).setPath("models/").load("river_walk_1_1k.hdr",(function(e){const n=w.fromEquirectangular(e).texture;w.dispose(),t.environment=n})),t.rotation.y=Math.PI/2;const n=document.getElementById("three-"+e);t.userData.element=n;const a=new r(35,1,.25,3050);a.position.set(2,5,10),"house"==e?a.position.set(-34.739720817258195,9.372662522451744,31.40068733255596):"workshop"==e?a.position.set(33.25308157435134,14.115172909416785,22.4285379119101):"land"==e&&a.position.set(-501,251,-630),t.userData.camera=a;const D=new l(t.userData.camera,t.userData.element);D.addEventListener("change",p),D.enableDamping=!1,D.dampingFactor=.1,D.autoRotate=!1,D.enablePan=!1,D.enableZoom=!0,D.screenSpacePanning=!0,D.maxPolarAngle=Math.PI/1.5,D.target.set(0,0,0),D.update(),"house"==e||"workshop"==e?(D.minDistance=30,D.maxDistance=60):"land"==e&&(D.minDistance=200,D.maxDistance=1160),t.userData.controls=D;const h=[new u(new m(0,-1,0),999)];t.userData.globalPlanes=h,t.userData.sliceDestination=10,"land"==e&&(t.userData.sliceDestination=50);(new c).setPath("models/").load(e+".glb",(function(e){t.add(e.scene)}));const E=new d(16777215,1);E.position.set(15,5,3),t.add(E),g.push(t)})),document.getElementById("house-whole").addEventListener("mousedown",(e=>{g[0].userData.sliceDestination=10})),document.getElementById("house-basement").addEventListener("mousedown",(e=>{g[0].userData.sliceDestination=-.15})),document.getElementById("house-floor-1").addEventListener("mousedown",(e=>{g[0].userData.sliceDestination=3.3})),document.getElementById("house-floor-2").addEventListener("mousedown",(e=>{g[0].userData.sliceDestination=6.5})),document.getElementById("workshop-whole").addEventListener("mousedown",(e=>{g[1].userData.sliceDestination=10})),document.getElementById("workshop-floor-1").addEventListener("mousedown",(e=>{g[1].userData.sliceDestination=2.5})),document.getElementById("workshop-floor-2").addEventListener("mousedown",(e=>{g[1].userData.sliceDestination=5.5}))}(),function e(){p(),requestAnimationFrame(e)}();
